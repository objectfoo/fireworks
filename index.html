<!doctype html>
<title>Fireworks</title>

<p>
<a href='javascript:(function(){var e=document.createElement("script");e.setAttribute("src","http://objectfoo.com/fireworks/fireworks.js?a");document.body.appendChild(e);}())'>no-ssl Fireworks</a>
</p>

<p>
<a href='javascript:(function(){var e=document.createElement("script");e.setAttribute("src","https://ktna01d-whs-04.dev.webmd.com/wminternal/notlive/fireworks.js");document.body.appendChild(e);}())'>katana-feature Fireworks</a>
</p>

<p>
<a href='javascript:(function(){var e=document.createElement("script");e.setAttribute("src","https://www.a.dev.webmdhealth.com/wminternal/notlive/fireworks.js");document.body.appendChild(e);}())'>katana-feature Fireworks</a>
</p>

<p>
<a href='javascript:window.requestFrame=(function(a,b){return a["webkitR"+b]||a["r"+b]||a["mozR"+b]||a["msR"+b]||a["oR"+b]||function(c){setTimeout(c,1000/60)}})(window,"equestAnimationFrame");(function(j){var z=[],r=3,w=[],x=5,f,p,g=120,y=5,h=0,o=50,u=49,q=false,e=j.innerWidth,l=j.innerHeight,n,m;function d(D,C,B,A){this.x=D;this.y=C;this.sx=D;this.sy=C;this.tx=B;this.ty=A;this.distanceToTarget=k(D,C,B,A);this.distanceTraveled=0;this.coordinates=[];this.coordinateCount=r;while(this.coordinateCount--){this.coordinates.push([this.x,this.y])}this.angle=Math.atan2(A-C,B-D);this.speed=2;this.acceleration=1.05;this.brightness=a(50,70);this.targetRadius=1}d.prototype={update:function(A){this.coordinates.pop();this.coordinates.unshift([this.x,this.y]);if(this.targetRadius<8){this.targetRadius+=0.3}else{this.targetRadius=1}this.speed*=this.acceleration;var C=Math.cos(this.angle)*this.speed,B=Math.sin(this.angle)*this.speed;this.distanceTraveled=k(this.sx,this.sy,this.x+C,this.y+B);if(this.distanceTraveled>=this.distanceToTarget){c(this.tx,this.ty);z.splice(A,1)}else{this.x+=C;this.y+=B}},draw:function(){p.beginPath();p.moveTo(this.coordinates[this.coordinates.length-1][0],this.coordinates[this.coordinates.length-1][1]);p.lineTo(this.x,this.y);p.strokeStyle="hsl("+g+", 100%, "+this.brightness+"%)";p.stroke();p.beginPath();p.arc(this.tx,this.ty,this.targetRadius,0,Math.PI*2);p.stroke()}};function t(A,B){this.x=A;this.y=B;this.coordinates=[];this.coordinateCount=x;while(this.coordinateCount--){this.coordinates.push([this.x,this.y])}this.angle=a(0,Math.PI*2);this.speed=a(1,10);this.friction=0.95;this.gravity=1;this.hue=a(g-20,g+20);this.brightness=a(50,80);this.alpha=1;this.decay=a(0.015,0.03)}t.prototype={update:function(A){this.coordinates.pop();this.coordinates.unshift([this.x,this.y]);this.speed*=this.friction;this.x+=Math.cos(this.angle)*this.speed;this.y+=Math.sin(this.angle)*this.speed+this.gravity;this.alpha-=this.decay;if(this.alpha<=this.decay){w.splice(A,1)}},draw:function(){p.beginPath();p.moveTo(this.coordinates[this.coordinates.length-1][0],this.coordinates[this.coordinates.length-1][1]);p.lineTo(this.x,this.y);p.strokeStyle="hsla("+this.hue+", 100%, "+this.brightness+"%, "+this.alpha+")";p.stroke()}};function a(B,A){return Math.random()*(A-B)+B}function k(B,A,D,C){var F=B-D,E=A-C;return Math.sqrt(Math.pow(F,2)+Math.pow(E,2))}function c(A,C){var B=30;while(B--){w.push(new t(A,C))}}function i(C,B,A){if(j.addEventListener){C.addEventListener(B,A,false)}else{C.attachEvent("on"+B,A)}}function v(){var A;requestFrame(v);g+=0.5;p.globalCompositeOperation="destination-out";p.fillStyle="rgba(0, 0, 0, 0.5)";p.fillRect(0,0,e,l);p.globalCompositeOperation="lighter";A=z.length;while(A--){z[A].draw();z[A].update(A)}A=w.length;while(A--){w[A].draw();w[A].update(A)}if(u>=o){if(!q){z.push(new d(e/2,l,a(0,e),a(0,l/2)));u=0}}else{u++}if(h>=y){if(q){z.push(new d(e/2,l,n,m));h=0}}else{h++}}function b(){i(f,"mousemove",function(A){A=A||j.event;n=A.pageX-f.offsetLeft;m=A.pageY-f.offsetTop});i(f,"mousedown",function(A){A=A||j.event;if(A.preventDefault){A.preventDefault()}else{A.returnValue=false}q=true});i(f,"mouseup",function(A){A=A||j.event;if(A.preventDefault){A.preventDefault()}else{A.returnValue=false}q=false})}function s(){var A=parseInt(((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1]),10);if(A<9){alert("boom... ie"+A+" fireworks\n\n:*(");return}f=document.createElement("canvas");f.id="canvas";f.style.cssText="z-index:20000;background:#000;background:rgba(0,0,0,0.88);cursor:crosshair;display:block;position:absolute;top:0;left:0;";document.body.appendChild(f);f.width=e;f.height=l;p=f.getContext("2d");b();v()}s()})(window);'>Full source (not for ie)</a>
</p>

<p>
	<a href="test.html">test page</a>
</p>


